<!DOCTYPE html>
<html>
<head>
  <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
      <script type="text/javascript">
        google.charts.load('current', {'packages':['line']});
        //google.charts.setOnLoadCallback();

      function drawChart(result) {

        var data = new google.visualization.DataTable();
        data.addColumn('number', 'Day');
        data.addColumn('number', 'Temperature');
        $.each(result.temperature, function(key, value){
          console.log(key, value);
          data.addRows([value]);
        });

        var options = {
          chart: {
            title: 'Temperature Sensing',
            subtitle: 'from sensor x in plant y'
          },
          width: 900,
          height: 500,
          axes: {
            x: {
              0: {side: 'top'}
            }
          }
        };

        var chart = new google.charts.Line(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>

    <script src="{{ url_for('static', filename='js/temperature.js') }}"></script>

</head>

<body>

    <h1 id="txt"></h1>
  <div class="container">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Time Now</th>
          <th>Temperature</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><p id="txt2"></p></td>
          <td><p id="temp"></p></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="container" id="chart_div"></div>

</body>
</html>
